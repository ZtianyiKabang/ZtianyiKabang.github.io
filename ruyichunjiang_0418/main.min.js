var __reflect=this&&this.__reflect||function(e,t,a){e.__class__=t,a?a.push(t):a=[t],e.__types__=e.__types__?a.concat(e.__types__):a},__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Page2_4=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=new egret.Sprite;this.addChild(e),Method.scaleObj(e,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(e,defaultW,defaultH,pageWidth,pageHeight);var t=Method.createBitMap("map2_4_png",319,313);e.addChild(t),Method.anchorXY(t),t.scaleX=t.scaleY=0,egret.Tween.get(t).wait(400).to({scaleX:1,scaleY:1},1e3,egret.Ease.quartOut);var a=Method.createBitMap("t2_4_png",82,687);e.addChild(a),a.alpha=0,egret.Tween.get(a).wait(600).to({alpha:1,y:607},1e3,egret.Ease.quartOut);for(var n=0;3>n;n++){var r=Method.createBitMap("btn4_"+(n+1)+"1_png",78,703+74*n+80);e.addChild(r),r.id=n,r.alpha=0,egret.Tween.get(r).wait(800+80*n).to({alpha:1,y:703+74*n},800,egret.Ease.quadOut),this.addEvent(r)}},t.prototype.addEvent=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTap,this),e.touchEnabled=!0},t.prototype.onTap=function(e){var t=this;this.touchChildren=!1,e.currentTarget.texture=RES.getRes("btn4_"+(e.currentTarget.id+1)+"2_png"),setTimeout(function(){t.dispatchEventWith("page")},500)},t}(egret.DisplayObjectContainer);__reflect(Page2_4.prototype,"Page2_4");var Event1=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.getInstance=function(e){return void 0===e&&(e=null),null!=e?(t.instance[e]||(t.instance[e]=new egret.EventDispatcher),t.instance[e]):(null==t._instance&&(t._instance=new egret.EventDispatcher),t._instance)},t.removeDispatch=function(e){null!=t._instance&&(null==t.instance[e]&&t.removeEvent(t.instance[e]),delete t.instance[e])},t.addEvent=function(e,a,n,r){e.addEventListener(a,n,r),t.eventDict[e.hashCode]||(t.eventDict[e.hashCode]={}),t.eventDict[e.hashCode][a]&&e.removeEventListener(a,t.eventDict[e.hashCode][a].listener,t.eventDict[e.hashCode][a].thisObject),t.eventDict[e.hashCode][a]={dispatch:e,type:a,listener:n,thisObject:r}},t.removeEvent=function(e,a){if(void 0===a&&(a=null),t.eventDict[e.hashCode]){var n;if(null==a){for(var r in t.eventDict[e.hashCode])n=t.eventDict[e.hashCode][r],e.removeEventListener(n.type,n.listener,n.thisObject);delete t.eventDict[e.hashCode]}else n=t.eventDict[e.hashCode][a],e.removeEventListener(n.type,n.listener,n.thisObject),delete t.eventDict[e.hashCode][a]}},t.instance={},t.eventDict={},t}(egret.EventDispatcher);__reflect(Event1.prototype,"Event1");var Main=function(e){function t(){var t=e.call(this)||this;return t.pageName=[Page1,Page2,Page3,Page4,Page5],t.index=0,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){egret.lifecycle.addLifecycleListener(function(e){e.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new RES.VersionController;t.getVirtualUrl=function(e){return e+"?v="+vesion},RES.registerVersionController(t),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("load")},t.prototype.onResourceLoadComplete=function(e){"preload"==e.groupName?(Method.remove(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene()):"load"==e.groupName&&(this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),this.loadingView.alpha=0,egret.Tween.get(this.loadingView).to({alpha:1},400,egret.Ease.quadInOut),RES.loadGroup("preload"))},t.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},t.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.createGameScene=function(){t.MainLoc=this,this.onPage(),Event1.getInstance().addEventListener("page",this.onPage,this)},t.prototype.onPage=function(){this.currentPage&&(egret.Tween.get(this.currentPage).to({alpha:0},600,egret.Ease.quadInOut).call(Method.remove,this,[this.currentPage]),this.currentPage=null,this.index++),this.currentPage=new this.pageName[this.index],this.addChild(this.currentPage),this.currentPage.alpha=0,egret.Tween.get(this.currentPage).to({alpha:1},600,egret.Ease.quadInOut)},t.prototype.homePage=function(){this.index=-1,this.onPage()},t}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var Method=function(){function e(){}return e.left=function(e,t){for(var a=[],n=new egret.Point,r=e.x-1;r>0;r--){if(0!=t[e.y][r])return a;(0==t[e.y+1][r]||0==t[e.y-1][r])&&(n=new egret.Point,n.x=r,n.y=e.y,a.push(n)),14==e.y&&e.x<=7&&(n=new egret.Point,n.x=r,n.y=e.y,a.push(n))}return a},e.right=function(e,t){for(var a=[],n=new egret.Point,r=e.x+1;28>r;r++){if(0!=t[e.y][r])return a;(0==t[e.y+1][r]||0==t[e.y-1][r])&&(n=new egret.Point,n.x=r,n.y=e.y,a.push(n)),14==e.y&&e.x>=22&&(n=new egret.Point,n.x=r,n.y=e.y,a.push(n))}return a},e.top=function(e,t){for(var a=[],n=new egret.Point,r=e.y-1;r>0;r--){if(0!=t[r][e.x])return a;(0==t[r][e.x-1]||0==t[r][e.x+1])&&(n=new egret.Point,n.x=e.x,n.y=r,a.push(n))}return a},e.bottom=function(e,t){for(var a=[],n=new egret.Point,r=e.y+1;31>r;r++){if(0!=t[r][e.x])return a;(0==t[r][e.x-1]||0==t[r][e.x+1])&&(n=new egret.Point,n.x=e.x,n.y=r,a.push(n))}return a},e.horizon=function(e,t,a){if(e.x==t.x&&e.y==t.y)return!1;for(var n=e.y<t.y?e.y:t.y,r=e.y<t.y?t.y:e.y,i=n+1;r>i;i++)if(0!=a[e.x][i])return!1;return!0},e.vertical=function(e,t,a){if(e.x==t.x&&e.y==t.y)return!1;for(var n=e.x<t.x?e.x:t.x,r=e.x<t.x?t.x:e.x,i=n+1;r>i;i++)if(0!=a[i][e.y])return!1;return!0},e.createBitMap=function(e,t,a){var n=new egret.Bitmap(RES.getRes(e));return n.x=t,n.y=a,n},e.createRect=function(e,t){void 0===t&&(t=[0,0]);var a=new egret.Shape;return a.graphics.beginFill(e),a.graphics.drawRect(0,0,t[0],t[1]),a.graphics.endFill(),a},e.hitTest=function(e,t){var a=e.getBounds(),n=t.getBounds();return a.x=e.x,a.y=e.y,n.x=t.x,n.y=t.y,a.intersects(n)},e.distance=function(e,t){return Math.abs(Math.sqrt(e*e+t*t))},e.moveBg=function(e,t){for(var a=0;2>a;a++){var n=e[a];n.y+=t,n.y>1030&&(n.y=e[0].y-1030,e.pop(),e.unshift(n))}},e.angle=function(e,t,a,n){var r=Math.abs(e-a),i=Math.abs(t-n),o=Math.sqrt(Math.pow(r,2)+Math.pow(i,2)),d=i/o,h=Math.acos(d),g=Math.floor(180/(Math.PI/h));return a>e&&n>t&&(g=180-g),a==e&&n>t&&(g=180),a>e&&n==t&&(g=90),e>a&&n>t&&(g=180+g),e>a&&n==t&&(g=270),a==e&&t>n&&(g=0),e>a&&t>n&&(g=360-g),g},e.remove=function(e){e?e.parent&&e.parent.removeChild(e):console.log("Tool.remove:对象为空")},e.scaleObj=function(e,t,a,n,r,i){void 0===i&&(i="in");var o,d=t/a,h=n/r;o=d>h?"in"==i?n/t:r/a:"in"==i?r/a:n/t,e.scaleX=e.scaleY=o},e.alignObj=function(e,t,a,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0),e.x=Math.round((n-t)/2)+i,e.y=Math.round((r-a)/2)+o},e.anchorXY=function(e,t,a){var n=t||0==t?t:Math.round(e.width/2),r=a||0==a?a:Math.round(e.height/2);e.anchorOffsetX=n,e.anchorOffsetY=r},e.getScale=function(t,a,n,r,i){void 0===t&&(t=640),void 0===a&&(a=1030),void 0===n&&(n=e.getShowW()),void 0===r&&(r=e.getShowH()),void 0===i&&(i="in");var o,d=t/a,h=n/r;return o=d>h?"in"==i?n/t:r/a:"in"==i?r/a:n/t},e.getShowW=function(){return window.innerWidth},e.getShowH=function(){return window.innerHeight},e.getRandom=function(e,t,a){void 0===a&&(a=2);var n=Math.random()*(t-e)+e;return Number(n.toFixed(a))},e}();__reflect(Method.prototype,"Method");var Page1=function(e){function t(){var t=e.call(this)||this;return t.touchChildren=!1,t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=this,t=Method.getScale(defaultW,defaultH,pageWidth,pageHeight,"out"),a=Method.createBitMap("bg_jpg",0,0);this.addChild(a),Method.alignObj(a,defaultW*t,defaultH*t,pageWidth,pageHeight),a.scaleX=a.scaleY=t;var n=new egret.Sprite;this.addChild(n),this.box=n,Method.scaleObj(n,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(n,defaultW,defaultH,pageWidth,pageHeight);var r=Method.createBitMap("sun_png",250,748);n.addChild(r),r.alpha=0,egret.Tween.get(r).wait(600).to({alpha:1,y:648},1200,egret.Ease.quadOut);var i=Method.createBitMap("mountain_png",0,801);n.addChild(i),i.alpha=0,egret.Tween.get(i).wait(0).to({alpha:1,y:701},1200,egret.Ease.quadOut),this.showBg();for(var o=[[268,238],[371,307],[262,132],[381,198],[241,340],[368,412],[298,392]],d=0;d<o.length;d++){var h=Method.createBitMap("title"+(d+1)+"_png",o[d][0],o[d][1]);n.addChild(h),Method.anchorXY(h),2>d?(h.scaleX=h.scaleY=5,h.alpha=0,egret.Tween.get(h).wait(0+80*d).to({alpha:1,scaleX:1,scaleY:1},600,egret.Ease.quartOut)):4>d?(h.scaleX=h.scaleY=0,egret.Tween.get(h).wait(200+80*d).to({scaleX:1,scaleY:1},400,egret.Ease.quartOut)):5>d?(h.alpha=0,h.x=h.x-50,egret.Tween.get(h).wait(0+100*d).to({alpha:1,x:h.x+50},1200,egret.Ease.quadOut)):6>d?(h.alpha=0,h.x=h.x+50,egret.Tween.get(h).wait(0+100*d).to({alpha:1,x:h.x-50},1200,egret.Ease.quadOut)):(h.alpha=0,h.y=h.y+100,egret.Tween.get(h).wait(0+100*d).to({alpha:1,y:h.y-100},1200,egret.Ease.quartOut))}var g=Method.createBitMap("line_png",185,116);n.addChild(g);var l=Method.createRect(0,[178,290]);n.addChild(l),Method.anchorXY(l),l.x=274,l.y=261,l.scaleX=l.scaleY=0,g.mask=l,egret.Tween.get(l).wait(0).to({scaleX:1,scaleY:1},600,egret.Ease.quartOut);for(var p=[[254,532],[276,533],[293,538],[321,532],[342,533],[359,538],[387,532],[408,533],[199,569],[221,569],[243,569],[265,569],[287,569],[309,569],[331,569],[348,574],[375,569],[398,569],[420,569],[441,569],[463,569]],s=0;s<p.length;s++){var c=Method.createBitMap("t"+(s+1)+"_png",p[d][0],p[d][1]);n.addChild(c),Method.anchorXY(c),c.alpha=0,c.scaleX=c.scaleY=Method.getRandom(2,5),c.x=Method.getRandom(-1e3,1e3),c.y=Method.getRandom(500,1e3),egret.Tween.get(c).wait(600+20*s).to({alpha:1,x:p[s][0],y:p[s][1],scaleX:1,scaleY:1},1200,egret.Ease.quartOut)}var u=Method.createBitMap("text_png",109,836);n.addChild(u),u.alpha=0,egret.Tween.get(u).wait(1e3).to({alpha:1,y:756},800,egret.Ease.quadOut);var v=new egret.Sprite;n.addChild(v),v.y=80,v.alpha=0,egret.Tween.get(v).wait(1e3).to({alpha:1,y:0},800,egret.Ease.quadOut).call(function(){e.touchChildren=!0});var _=Method.createBitMap("frame_png",40,802);v.addChild(_),_.scaleX=1.2,_.scaleY=1.4;var f=Method.createBitMap("phone_hint_png",230,814);v.addChild(f),f.scaleX=1.2,f.scaleY=1.4;var E=new egret.TextField;v.addChild(E),E.type=egret.TextFieldType.INPUT,E.x=93,E.y=816,E.textAlign="center",E.width=448,E.textColor=9342349,E.size=32,E.addEventListener(egret.FocusEvent.FOCUS_IN,function(){""==E.text?Method.remove(f):E.text},this),E.addEventListener(egret.FocusEvent.FOCUS_OUT,function(){""==E.text?v.addChild(f):E.text},this),this.text=E;var M=Method.createBitMap("text_bottom_png",114,995);n.addChild(M),M.alpha=0,egret.Tween.get(M).wait(1e3).to({alpha:1},600,egret.Ease.quadInOut);var w=Method.createBitMap("btn_png",319,983);n.addChild(w),Method.anchorXY(w),w.alpha=0,egret.Tween.get(w).wait(1400).to({alpha:1,y:903},800,egret.Ease.quadOut),this.addEvent(w)},t.prototype.showBg=function(){for(var e=[[448,116],[483,625],[-234,305]],t=[[100,174],[115,400],[604,473]],a=0;3>a;a++){var n=Method.createBitMap("icon_png",100*Math.random()+640,t[a][1]);this.box.addChild(n),n.alpha=2,egret.Tween.get(n,{loop:!0}).wait(6e3*a).to({alpha:.6,x:n.x-800},2e4).call(function(e){e.y=400*Math.random()+200},this,[n]);var r=Method.createBitMap("icon"+(a+1)+"_png",e[a][0],e[a][1]);this.box.addChild(r),r.alpha=0,2>a?(r.x=r.x+260,egret.Tween.get(r).wait(150*a).to({alpha:1,x:e[a][0]},1800,egret.Ease.quadOut).call(function(e){egret.Tween.get(e,{loop:!0}).to({x:e.x+30},1800).to({x:e.x},1800)},this,[r])):(r.x=r.x-200,egret.Tween.get(r).wait(150*a).to({alpha:1,x:e[a][0]},1800,egret.Ease.quadOut).call(function(e){egret.Tween.get(e,{loop:!0}).to({x:e.x-30},1800).to({x:e.x},1800)},this,[r]))}},t.prototype.addEvent=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBegin,this),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTap,this),e.touchEnabled=!0,this.btn=e},t.prototype.onBegin=function(e){this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this),egret.Tween.get(this.btn).to({scaleX:.9,scaleY:.9},200)},t.prototype.onTap=function(e){this.touchChildren=!1,""==this.text.text?(this.touchChildren=!0,alert("请输入你的名字")):(Main.text=this.text.text,Event1.getInstance().dispatchEventWith("page"))},t.prototype.onEnd=function(e){this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onEnd,this),egret.Tween.get(this.btn).to({scaleX:1,scaleY:1},200)},t}(egret.DisplayObjectContainer);__reflect(Page1.prototype,"Page1");var Page2_1=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=new egret.Sprite;this.addChild(e),Method.scaleObj(e,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(e,defaultW,defaultH,pageWidth,pageHeight);var t=Method.createBitMap("map2_1_png",319,313);e.addChild(t),Method.anchorXY(t),t.scaleX=t.scaleY=0,egret.Tween.get(t).wait(400).to({scaleX:1,scaleY:1},1e3,egret.Ease.quartOut);var a=Method.createBitMap("t2_1_png",82,687);e.addChild(a),a.alpha=0,egret.Tween.get(a).wait(600).to({alpha:1,y:607},1e3,egret.Ease.quartOut);for(var n=0;3>n;n++){var r=Method.createBitMap("btn1_"+(n+1)+"1_png",78,703+74*n+80);e.addChild(r),r.id=n,r.alpha=0,egret.Tween.get(r).wait(800+80*n).to({alpha:1,y:703+74*n},800,egret.Ease.quadOut),this.addEvent(r)}},t.prototype.addEvent=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTap,this),e.touchEnabled=!0},t.prototype.onTap=function(e){var t=this;this.touchChildren=!1,e.currentTarget.texture=RES.getRes("btn1_"+(e.currentTarget.id+1)+"2_png"),setTimeout(function(){t.dispatchEventWith("page")},500)},t}(egret.DisplayObjectContainer);__reflect(Page2_1.prototype,"Page2_1");var Page2_2=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=new egret.Sprite;this.addChild(e),Method.scaleObj(e,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(e,defaultW,defaultH,pageWidth,pageHeight);var t=Method.createBitMap("map2_2_png",319,313);e.addChild(t),Method.anchorXY(t),t.scaleX=t.scaleY=0,egret.Tween.get(t).wait(400).to({scaleX:1,scaleY:1},1e3,egret.Ease.quartOut);var a=Method.createBitMap("t2_2_png",82,687);e.addChild(a),a.alpha=0,egret.Tween.get(a).wait(600).to({alpha:1,y:607},1e3,egret.Ease.quartOut);for(var n=0;3>n;n++){var r=Method.createBitMap("btn2_"+(n+1)+"1_png",78,703+74*n+80);e.addChild(r),r.id=n,r.alpha=0,egret.Tween.get(r).wait(800+80*n).to({alpha:1,y:703+74*n},800,egret.Ease.quadOut),this.addEvent(r)}},t.prototype.addEvent=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTap,this),e.touchEnabled=!0},t.prototype.onTap=function(e){var t=this;this.touchChildren=!1,e.currentTarget.texture=RES.getRes("btn2_"+(e.currentTarget.id+1)+"2_png"),setTimeout(function(){t.dispatchEventWith("page")},500)},t}(egret.DisplayObjectContainer);__reflect(Page2_2.prototype,"Page2_2");var Page2_3=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=new egret.Sprite;this.addChild(e),Method.scaleObj(e,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(e,defaultW,defaultH,pageWidth,pageHeight);var t=Method.createBitMap("map2_3_png",319,313);e.addChild(t),Method.anchorXY(t),t.scaleX=t.scaleY=0,egret.Tween.get(t).wait(400).to({scaleX:1,scaleY:1},1e3,egret.Ease.quartOut);var a=Method.createBitMap("t2_3_png",82,687);e.addChild(a),a.alpha=0,egret.Tween.get(a).wait(600).to({alpha:1,y:607},1e3,egret.Ease.quartOut);for(var n=0;3>n;n++){var r=Method.createBitMap("btn3_"+(n+1)+"1_png",78,703+74*n+80);e.addChild(r),r.id=n,r.alpha=0,egret.Tween.get(r).wait(800+80*n).to({alpha:1,y:703+74*n},800,egret.Ease.quadOut),this.addEvent(r)}},t.prototype.addEvent=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTap,this),e.touchEnabled=!0},t.prototype.onTap=function(e){var t=this;this.touchChildren=!1,e.currentTarget.texture=RES.getRes("btn3_"+(e.currentTarget.id+1)+"2_png"),setTimeout(function(){t.dispatchEventWith("page")},500)},t}(egret.DisplayObjectContainer);__reflect(Page2_3.prototype,"Page2_3");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=Method.getScale(defaultW,defaultH,pageWidth,pageHeight,"out"),t=Method.createBitMap("bg_jpg",0,0);this.addChild(t),Method.alignObj(t,defaultW*e,defaultH*e,pageWidth,pageHeight),t.scaleX=t.scaleY=e;var a=new egret.Sprite;this.addChild(a),Method.scaleObj(a,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(a,defaultW,defaultH,pageWidth,pageHeight);for(var n=[[448,116],[483,625],[-234,305]],r=[[100,174],[115,700],[604,473]],i=0;3>i;i++){var o=Method.createBitMap("icon_png",100*Math.random()+640,r[i][1]);a.addChild(o),o.alpha=2,egret.Tween.get(o,{loop:!0}).wait(6e3*i).to({alpha:.6,x:o.x-800},2e4).call(function(e){e.y=600*Math.random()+200},this,[o]);var d=Method.createBitMap("icon"+(i+1)+"_png",n[i][0],n[i][1]);a.addChild(d),d.alpha=0,2>i?(d.x=d.x+260,egret.Tween.get(d).wait(150*i).to({alpha:1,x:n[i][0]},1800,egret.Ease.quadOut).call(function(e){egret.Tween.get(e,{loop:!0}).to({x:e.x+30},1800).to({x:e.x},1800)},this,[d])):(d.x=d.x-200,egret.Tween.get(d).wait(150*i).to({alpha:1,x:n[i][0]},1800,egret.Ease.quadOut).call(function(e){egret.Tween.get(e,{loop:!0}).to({x:e.x-30},1800).to({x:e.x},1800)},this,[d]))}var h=Method.createBitMap("load_t1_png",139,127);a.addChild(h),h.alpha=0,egret.Tween.get(h).to({alpha:1,y:47},800,egret.Ease.quadOut).call(function(){egret.Tween.get(h,{loop:!0}).to({alpha:.2},1200,egret.Ease.quadOut).to({alpha:1},1200,egret.Ease.quadIn)},this);var g=Method.createBitMap("load_t2_png",269,420);a.addChild(g);var l=Method.createBitMap("load_bar1_png",88,451);a.addChild(l);var p=Method.createBitMap("load_bar2_png",-373,452);a.addChild(p),this.bar=p;var s=Method.createBitMap("load_bar2_png",88,452);a.addChild(s),p.mask=s,this.textField=new egret.TextField,a.addChild(this.textField),this.textField.y=510,this.textField.width=pageWidth,this.textField.height=100,this.textField.textAlign="center",this.textField.size=12,this.textField.textColor=12951923;var c=Method.createBitMap("load_t3_png",114,995);a.addChild(c)},t.prototype.setProgress=function(e,t){this.textField.text=Math.floor(e/t*100)+"%",this.bar.x=-373+461*(e/t)},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Page2_5=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=new egret.Sprite;this.addChild(e),Method.scaleObj(e,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(e,defaultW,defaultH,pageWidth,pageHeight);var t=Method.createBitMap("map2_5_png",319,313);e.addChild(t),Method.anchorXY(t),t.scaleX=t.scaleY=0,egret.Tween.get(t).wait(400).to({scaleX:1,scaleY:1},1e3,egret.Ease.quartOut);var a=Method.createBitMap("t2_5_png",82,687);e.addChild(a),a.alpha=0,egret.Tween.get(a).wait(600).to({alpha:1,y:607},1e3,egret.Ease.quartOut);for(var n=0;3>n;n++){var r=Method.createBitMap("btn5_"+(n+1)+"1_png",78,703+74*n+80);e.addChild(r),r.id=n,r.alpha=0,egret.Tween.get(r).wait(800+80*n).to({alpha:1,y:703+74*n},800,egret.Ease.quadOut),this.addEvent(r)}},t.prototype.addEvent=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTap,this),e.touchEnabled=!0},t.prototype.onTap=function(e){var t=this;this.touchChildren=!1,e.currentTarget.texture=RES.getRes("btn5_"+(e.currentTarget.id+1)+"2_png"),setTimeout(function(){t.dispatchEventWith("page")},500)},t}(egret.DisplayObjectContainer);__reflect(Page2_5.prototype,"Page2_5");var Page2_6=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=new egret.Sprite;this.addChild(e),Method.scaleObj(e,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(e,defaultW,defaultH,pageWidth,pageHeight);var t=Method.createBitMap("map2_6_png",319,313);e.addChild(t),Method.anchorXY(t),t.scaleX=t.scaleY=0,egret.Tween.get(t).wait(400).to({scaleX:1,scaleY:1},1e3,egret.Ease.quartOut);var a=Method.createBitMap("t2_6_png",82,687);e.addChild(a),a.alpha=0,egret.Tween.get(a).wait(600).to({alpha:1,y:607},1e3,egret.Ease.quartOut);for(var n=0;3>n;n++){var r=Method.createBitMap("btn6_"+(n+1)+"1_png",78,703+74*n+80);e.addChild(r),r.id=n,r.alpha=0,egret.Tween.get(r).wait(800+80*n).to({alpha:1,y:703+74*n},800,egret.Ease.quadOut),this.addEvent(r)}},t.prototype.addEvent=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTap,this),e.touchEnabled=!0},t.prototype.onTap=function(e){var t=this;this.touchChildren=!1,e.currentTarget.texture=RES.getRes("btn6_"+(e.currentTarget.id+1)+"2_png"),setTimeout(function(){t.dispatchEventWith("page")},500)},t}(egret.DisplayObjectContainer);__reflect(Page2_6.prototype,"Page2_6");var Page2_7=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=new egret.Sprite;this.addChild(e),Method.scaleObj(e,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(e,defaultW,defaultH,pageWidth,pageHeight);var t=Method.createBitMap("map2_7_png",319,313);e.addChild(t),Method.anchorXY(t),t.scaleX=t.scaleY=0,egret.Tween.get(t).wait(400).to({scaleX:1,scaleY:1},1e3,egret.Ease.quartOut);var a=Method.createBitMap("t2_7_png",82,687);e.addChild(a),a.alpha=0,egret.Tween.get(a).wait(600).to({alpha:1,y:607},1e3,egret.Ease.quartOut);for(var n=0;3>n;n++){var r=Method.createBitMap("btn7_"+(n+1)+"1_png",78,703+74*n+80);e.addChild(r),r.id=n,r.alpha=0,egret.Tween.get(r).wait(800+80*n).to({alpha:1,y:703+74*n},800,egret.Ease.quadOut),this.addEvent(r)}},t.prototype.addEvent=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTap,this),e.touchEnabled=!0},t.prototype.onTap=function(e){var t=this;this.touchChildren=!1,e.currentTarget.texture=RES.getRes("btn7_"+(e.currentTarget.id+1)+"2_png"),setTimeout(function(){t.dispatchEventWith("page")},500)},t}(egret.DisplayObjectContainer);__reflect(Page2_7.prototype,"Page2_7");var Page2_8=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=new egret.Sprite;this.addChild(e),Method.scaleObj(e,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(e,defaultW,defaultH,pageWidth,pageHeight);var t=Method.createBitMap("map2_8_png",319,313);e.addChild(t),Method.anchorXY(t),t.scaleX=t.scaleY=0,egret.Tween.get(t).wait(400).to({scaleX:1,scaleY:1},1e3,egret.Ease.quartOut);var a=Method.createBitMap("t2_8_png",82,687);e.addChild(a),a.alpha=0,egret.Tween.get(a).wait(600).to({alpha:1,y:607},1e3,egret.Ease.quartOut);for(var n=0;3>n;n++){var r=Method.createBitMap("btn8_"+(n+1)+"1_png",78,703+74*n+80);e.addChild(r),r.id=n,r.alpha=0,egret.Tween.get(r).wait(800+80*n).to({alpha:1,y:703+74*n},800,egret.Ease.quadOut),this.addEvent(r)}},t.prototype.addEvent=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTap,this),e.touchEnabled=!0},t.prototype.onTap=function(e){this.touchChildren=!1,e.currentTarget.texture=RES.getRes("btn8_"+(e.currentTarget.id+1)+"2_png"),setTimeout(function(){Event1.getInstance().dispatchEventWith("page")},500)},t}(egret.DisplayObjectContainer);__reflect(Page2_8.prototype,"Page2_8");var Page2=function(e){function t(){var t=e.call(this)||this;t.pageName=[Page2_1,Page2_2,Page2_3,Page2_4,Page2_5,Page2_6,Page2_7,Page2_8],t.index=0;var a=Method.getScale(defaultW,defaultH,pageWidth,pageHeight,"out"),n=Method.createBitMap("bg2_"+(t.index+1)+"_jpg",0,0);t.addChild(n),t.bg=n,Method.alignObj(n,defaultW*a,defaultH*a,pageWidth,pageHeight),n.scaleX=n.scaleY=a;var r=new egret.Sprite;t.addChild(r),Method.scaleObj(r,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(r,defaultW,defaultH,pageWidth,pageHeight);var i=Method.createBitMap("frame2_png",20,20);return r.addChild(i),t.onPage(),t}return __extends(t,e),t.prototype.onPage=function(){this.currentPage&&(egret.Tween.get(this.currentPage).to({alpha:0},600,egret.Ease.quadInOut).call(Method.remove,this,[this.currentPage]),this.currentPage=null,this.index++,egret.Tween.get(this.bg).to({alpha:.4},600,egret.Ease.quadInOut).to({texture:RES.getRes("bg2_"+(this.index+1)+"_jpg")}).to({alpha:1},600,egret.Ease.quadInOut)),this.currentPage=new this.pageName[this.index],this.addChild(this.currentPage),this.currentPage.alpha=0,egret.Tween.get(this.currentPage).to({alpha:1},600,egret.Ease.quadInOut),this.currentPage.addEventListener("page",this.onPage,this)},t}(egret.DisplayObjectContainer);__reflect(Page2.prototype,"Page2");var Page3=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=this,t=Method.getScale(defaultW,defaultH,pageWidth,pageHeight,"out"),a=Method.createBitMap("bg2_6_jpg",0,0);this.addChild(a),Method.alignObj(a,defaultW*t,defaultH*t,pageWidth,pageHeight),a.scaleX=a.scaleY=t;var n=new egret.Sprite;this.addChild(n),Method.scaleObj(n,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(n,defaultW,defaultH,pageWidth,pageHeight);var r=Method.createBitMap("frame2_png",20,20);n.addChild(r);var i=Method.createBitMap("title_png",165,204);n.addChild(i),i.alpha=0,egret.Tween.get(i).wait(400).to({alpha:1,y:124},800,egret.Ease.quartOut);var o=Method.createBitMap("title_1_png",225,192);n.addChild(o);var d=Method.createRect(0,[94,30]);n.addChild(d),d.x=319,d.y=204,Method.anchorXY(d),d.scaleX=0,o.mask=d,egret.Tween.get(d).wait(600).to({scaleX:2},600,egret.Ease.quartOut);var h=Method.createBitMap("man_png",-60,287);n.addChild(h),h.alpha=0,egret.Tween.get(h).wait(800).to({x:40,alpha:1},800,egret.Ease.quartOut);var g=Method.createBitMap("woman_png",425,300);n.addChild(g),g.alpha=0,egret.Tween.get(g).wait(800).to({x:325,alpha:1},800,egret.Ease.quartOut);var l=Method.createBitMap("btn_11_png",167,801);n.addChild(l),l.alpha=0,egret.Tween.get(l).wait(1200).to({alpha:1,x:67},800,egret.Ease.quartOut),l.touchEnabled=!0,l.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.touchChildren=!1,l.texture=RES.getRes("btn_12_png"),Main.sex=0,setTimeout(function(){Event1.getInstance().dispatchEventWith("page")},500)},this);var p=Method.createBitMap("btn_21_png",242,801);n.addChild(p),p.alpha=0,egret.Tween.get(p).wait(1200).to({alpha:1,x:342},800,egret.Ease.quartOut),p.touchEnabled=!0,p.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){e.touchChildren=!1,Main.sex=1,p.texture=RES.getRes("btn_22_png"),setTimeout(function(){Event1.getInstance().dispatchEventWith("page")},500)},this)},t}(egret.DisplayObjectContainer);__reflect(Page3.prototype,"Page3");var Page4=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e=Method.getScale(defaultW,defaultH,pageWidth,pageHeight,"out"),t=Method.createBitMap("bg1_jpg",0,0);this.addChild(t),Method.alignObj(t,defaultW*e,defaultH*e,pageWidth,pageHeight),t.scaleX=t.scaleY=e;var a=new egret.Sprite;this.addChild(a),this.box=a,Method.scaleObj(a,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(a,defaultW,defaultH,pageWidth,pageHeight);var n=Method.createBitMap("bg_png",0,102);a.addChild(n),n.alpha=0,egret.Tween.get(n).wait(400).to({alpha:1},1e3,egret.Ease.quadInOut),this.showBg();var r=Method.createBitMap("logo_png",153,104);a.addChild(r),Method.anchorXY(r),r.scaleX=r.scaleY=0,egret.Tween.get(r).wait(600).to({scaleX:1,scaleY:1},800,egret.Ease.quadOut);var i=Method.createBitMap("text1_png",64,491);a.addChild(i),i.alpha=0,egret.Tween.get(i).wait(800).to({alpha:1,y:411},800,egret.Ease.quadOut);var o=Method.createBitMap("text2_png",63,534);a.addChild(o),o.alpha=0,egret.Tween.get(o).wait(1e3).to({alpha:1,y:454},800,egret.Ease.quadOut);var d=Method.createBitMap("text3_png",570,43);a.addChild(d),d.alpha=0,egret.Tween.get(d).wait(800).to({alpha:1,x:470},800,egret.Ease.quadOut);var h=Method.createBitMap("text4_png",62,633);a.addChild(h),h.alpha=0,egret.Tween.get(h).wait(1200).to({alpha:1,y:553},800,egret.Ease.quadOut);var g=Method.createBitMap("text5_png",65,862);a.addChild(g),g.alpha=0,egret.Tween.get(g).wait(1200).to({alpha:1,y:782},1200,egret.Ease.quadOut);var l=Method.createBitMap("text_bottom_png",114,995);a.addChild(l),l.alpha=0,egret.Tween.get(l).wait(1200).to({alpha:1},600,egret.Ease.quadInOut),setTimeout(function(){Event1.getInstance().dispatchEventWith("page")},5e3)},t.prototype.showBg=function(){for(var e=[[448,116],[483,625],[-234,305]],t=[[100,174],[115,400],[604,473]],a=0;3>a;a++){var n=Method.createBitMap("icon_png",100*Math.random()+640,t[a][1]);this.box.addChild(n),n.alpha=2,egret.Tween.get(n,{loop:!0}).wait(6e3*a).to({alpha:.6,x:n.x-800},2e4).call(function(e){e.y=400*Math.random()+200},this,[n]);var r=Method.createBitMap("icon"+(a+1)+"_png",e[a][0],e[a][1]);this.box.addChild(r),r.alpha=0,2>a?(r.x=r.x+260,egret.Tween.get(r).wait(150*a).to({alpha:1,x:e[a][0]},1800,egret.Ease.quadOut).call(function(e){egret.Tween.get(e,{loop:!0}).to({x:e.x+30},1800).to({x:e.x},1800)},this,[r])):(r.x=r.x-200,egret.Tween.get(r).wait(150*a).to({alpha:1,x:e[a][0]},1800,egret.Ease.quadOut).call(function(e){egret.Tween.get(e,{loop:!0}).to({x:e.x-30},1800).to({x:e.x},1800)},this,[r]))}},t}(egret.DisplayObjectContainer);__reflect(Page4.prototype,"Page4");var Page5=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){var e,t,a=Method.getScale(defaultW,defaultH,pageWidth,pageHeight,"out"),n=[];0==Main.sex?(e=Method.createBitMap("bg1_jpg",0,0),t="0x9c794c",n=["如  意  型  男","如  意  大  叔","如  意  绅  士","如  意  暖  男","如  意  小  鲜  肉","如  意  小  哥  哥"]):(e=Method.createBitMap("bg1_jpg",0,0),t="0x9c794c",n=["如  意  女  王","如  意  御  姐","如  意  小  萝  莉","如  意  萌  妹  子","如  意  女  汉  子","如  意  小  姐  姐"]),this.addChild(e),Method.alignObj(e,defaultW*a,defaultH*a,pageWidth,pageHeight),e.scaleX=e.scaleY=a;var r=new egret.Sprite;this.addChild(r),Method.scaleObj(r,defaultW,defaultH,pageWidth,pageHeight,"in"),Method.alignObj(r,defaultW,defaultH,pageWidth,pageHeight);var i=Math.ceil(6*Math.random()),o=Method.createBitMap("result"+i+"_"+(Main.sex+1)+"_jpg",0,0);r.addChild(o);var d=new egret.TextField;r.addChild(d),d.text=Main.text,d.x=443,d.y=207,d.width=182,d.size=45,d.textColor=t;var h=new egret.RenderTexture;h.drawToTexture(r,new egret.Rectangle(0,0,640,1030));var g=h.toDataURL("image/png",new egret.Rectangle(0,0,640,1030));showBg(g)},t}(egret.DisplayObjectContainer);__reflect(Page5.prototype,"Page5");